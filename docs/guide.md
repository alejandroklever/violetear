# User Guide

This is a step-by-step guide to using `violetear`. In this guide, we will build a sample website. You can see the sample website alive [here](example.html) and the final source code [here](https://github.com/apiad/violetear/tree/main/docs/example.html).

Before starting, make sure to have `violetear` installed:

```bash
pip install violetear
```

## Basic setup

We'll start by creating a blank HTML file with a basic markup:

```html
<!-- File: example.html -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Example Web Page - violetear</title>
</head>
<body>

</body>
</html>
```

Go ahead and paste that into a new file [`example.html`](example.html) and hit the save button!

Next, we'll create a new file [`styles.py`](styles.py) where we will define all our styles. Start by importing the `StyleSheet` class and creating an instance. We'll pass `normalize=True` to ask `violetear` to generate an initial set of CSS rules that normalize styles across modern browsers (taken from [modern-normalize](https://github.com/sindresorhus/modern-normalize)).

```python
# File: styles.py

from violetear import StyleSheet

sheet = StyleSheet(normalize=True)

# ...
# All our code will go in here ⤵️
# ...

sheet.render("styles.css")
```

Run the file `styles.py` and verify that it creates a [`styles.css`](styles.css) file. If you open it you should see a short preamble followed by the normalization rules:

```css
/* Made with violetear */
/* Generating all 0 styles */
/* Autogenerated on 2022-08-17 22:44:26.345293 */

/*! modern-normalize v1.1.0 ... */
```

Now go ahead and add the style link to your HTML:

```html
<!-- File: example.html -->
...
<head>
   ...
   <link rel="stylesheet" src="styles.css">
</head>
...
```

Now we're ready to start adding some markup and styles.

## Text markup

Let's start by adding some content: a title, a subtitle, and some paragraphs (in latin!):

```html
...
<body>
    <h1>An important lesson</h1>
    <h2>Given by some important guy...</h2>
    <p>
        Sint nesciunt architecto ipsam quia.
        Deleniti explicabo fuga velit.
        Iste occaecati sunt veniam veniam quas ratione nihil.
        Velit nam eum in a nam ratione.
    </p>
    <p>
        Aut quo culpa alias voluptates voluptatem debitis et aperiam.
        Et illo qui quae.
        Alias aut repellat quidem et cum aut.
        Repudiandae doloribus vero quibusdam veniam nam in.
    </p>
    <p>
        Voluptas ut rerum aut harum libero.
        Qui sint et sapiente non fugiat soluta commodi.
        Deserunt ipsum quo autem.
        Inventore in et dolorem.
        Enim nobis in quia quisquam dolorem similique eos.
        Repellat eum consequatur sunt velit eum earum hic tenetur.
    </p>
</body>
```

If you open the `example.html` file right you'll see it's just some unstyled text. So let's add some color.

First, let's make those borders narrower by constraining the width of the `body` tag:

```python
# File: styles.py

# ... after sheet = StyleSheet(...)

sheet.select('body').width(0.8, max=768).margin("auto", top=50)

# ... before sheet.render(...)
```

Go ahead and run `styles.py` before reloading the page and you'll see that now we have some nice responsive margins with a maximum width. Try resizing the browser window to see the effect.

Let's break down that one-liner to see what's happening in slow-motion:

- `sheet.select(...)` defines a new blank style. The `select` method receives a CSS selector, in this case, it's the simplest possible selector (`"body"`) but you can use id (e.g., `"#title"`), classes (e.g., `".btn"`) and states (e.g., `":hover"`). The method returns and instance of the `Style` class which lets you chain methods to add the actual CSS rules.
- `.width(...)` defines the rules for the width of the element. In this case we're setting the width to 2/3 of the parent width, but with a maximum of 768 pixels. As a general idea, anytime you have a set of related attributes in CSS (e.g., `width`, `min-width`, and `max-width`), you'll have a single method in `violetear` that let's you set several of those related attributes in a single call.
- `.margin(...)` defines the overall margin (`auto`) plus a specific value for the top margin of 50 pixels. All methods in `violetear` that take numerical units can receive an instance of the `Unit` class, which can represent pixels, percentages, em, rem, points, etc. For simplicity, plain ints and floats are converted to a sensible unit (e.g., floats are treated as percentages in the case of box geometry, but as rem in the case of font sizes). Later on we'll see how to use `Unit` explicitely.

As a final tweak, let's soften the colors a little bit. For this purpose, we can define custom styles for the tags`<h1>`. `<h2>` and `<p>`, but that would be kinda repetitive. So instead, we'll define a *base style* in the `StyleSheet` constructor that all styles will inherit. We will need to import `Style` and `Color`, and rewrite our constructor call:

```python
# File: styles.py

from violetear import StyleSheet, Style, Color

sheet = StyleSheet(normalize=True, base=Style().color(Color.gray(0.3)))

# ... here come the rules
```
